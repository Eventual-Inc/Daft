(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7193],{59188:(e,t,r)=>{Promise.resolve().then(r.bind(r,63292))},63292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(95155),l=r(12115),s=r(89789),n=r(19083),o=r(73312),i=r(33900),d=r(21567);let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,d.cn)("w-full caption-bottom text-sm",r),...l})})});c.displayName="Table";let u=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("thead",{ref:t,className:(0,d.cn)("[&_tr]:border-b",r),...l})});u.displayName="TableHeader";let m=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,d.cn)("[&_tr:last-child]:border-0",r),...l})});m.displayName="TableBody",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...l})}).displayName="TableFooter";let f=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("tr",{ref:t,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...l})});f.displayName="TableRow";let x=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("th",{ref:t,className:(0,d.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...l})});x.displayName="TableHead";let h=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("td",{ref:t,className:(0,d.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...l})});h.displayName="TableCell",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("caption",{ref:t,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",r),...l})}).displayName="TableCaption";var p=r(94928),g=r(43979),v=r(76046);let b="plan_time_start",w=e=>[{accessorKey:"id",header:"Name",cell:e=>{let{row:t}=e;return t.getValue("id")}},{accessorKey:b,header:"Start Time",cell:e=>{let{row:t}=e;return(0,d.Zi)(t.getValue(b))}},{accessorKey:"time_delta",header:"Planning Length",cell:t=>{let{row:r}=t;return(0,d.pU)(r.getValue(b),e[r.getValue("id")].plan_time_end)}}];function N(){var e,t,r;let[d,b]=(0,p.fp)(g.M);l.useEffect(()=>{(async()=>{try{let e=await fetch("http://localhost:3238/api/queries"),t=await e.json(),r={};for(let e of t)r[e.id]=e;b(r)}catch(e){}})()},[]);let N=w(d),y=(0,s.N4)(l.useMemo(()=>({data:Object.values(d),columns:N,getCoreRowModel:(0,n.HT)(),getPaginationRowModel:(0,n.kW)(),getSortedRowModel:(0,n.h5)(),getFilteredRowModel:(0,n.hM)(),enableSorting:!0}),[d])),j=(0,v.useRouter)(),R=e=>"px-[20px] ".concat("id"===e.column.columnDef.accessorKey?"w-[70%]":void 0);return(0,a.jsxs)("div",{className:"gap-4 space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(i.p,{placeholder:"Filter queries...",value:null!==(r=null===(e=y.getColumn("id"))||void 0===e?void 0:e.getFilterValue())&&void 0!==r?r:"",onChange:e=>{var t;return null===(t=y.getColumn("id"))||void 0===t?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"})}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{children:y.getHeaderGroups().map(e=>(0,a.jsx)(f,{className:"",children:e.headers.map(e=>(0,a.jsx)(x,{className:"text-xs ".concat(R(e)),children:(0,s.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(m,{children:(null===(t=y.getRowModel().rows)||void 0===t?void 0:t.length)?y.getRowModel().rows.map(e=>(0,a.jsx)(f,{children:e.getAllCells().map(e=>(0,a.jsx)(h,{className:"py-[15px] ".concat(R(e)," cursor-pointer"),onClick:()=>j.push("/queries/query?id=".concat(e.row.original.id)),children:(0,a.jsx)("div",{className:"truncate",children:(0,s.Kv)(e.column.columnDef.cell,e.getContext())})},e.id))},e.id)):(0,a.jsx)(f,{children:(0,a.jsx)(h,{colSpan:N.length,className:"h-24 text-center",children:"No results"})})})]})}),(0,a.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,a.jsxs)("div",{className:"space-x-2",children:[(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>y.previousPage(),disabled:!y.getCanPreviousPage(),className:"w-[80px]",children:"Previous"}),(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>y.nextPage(),disabled:!y.getCanNextPage(),className:"w-[80px]",children:"Next"})]})})]})}},43979:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});let a=(0,r(71094).tG)("queryInfo",{})},73312:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(95155),l=r(12115),s=r(12317),n=r(31027),o=r(21567);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:r,variant:l,size:n,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(i({variant:l,size:n,className:r})),ref:t,...c})});d.displayName="Button"},33900:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(95155),l=r(12115),s=r(21567);let n=l.forwardRef((e,t)=>{let{className:r,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},21567:(e,t,r)=>{"use strict";r.d(t,{Zi:()=>o,cn:()=>s,pU:()=>i});var a=r(43463),l=r(69795);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,a.$)(t))}function n(e){return new Date(Date.parse(e))}function o(e){return n(e).toLocaleTimeString()}function i(e,t){let r=n(e),a=n(t),l=r.getTime(),s=a.getTime();if(l>s)return"n/a";let o=s-l,i=Math.floor(o/36e5),d=Math.floor((o-=36e5*i)/6e4),c=(o-=6e4*d)/1e3;return"".concat(i,"h ").concat(d,"m ").concat(c,"s")}}},e=>{var t=t=>e(e.s=t);e.O(0,[6946,7289,2195,8441,1517,7358],()=>t(59188)),_N_E=e.O()}]);
