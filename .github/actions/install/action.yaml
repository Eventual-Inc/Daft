name: Install uv, rust, and python
description: Install uv, rust, and python
runs:
  using: composite
  steps:
  - name: Install rust
    shell: bash
    run: |
      curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
      CARGO_BIN="$HOME/.cargo/bin"
      echo 'export PATH="$CARGO_BIN:$PATH"' >> $HOME/.bashrc
      echo "$CARGO_BIN" >> $GITHUB_PATH

  - name: Install uv
    shell: bash
    run: |
      curl -LsSf https://astral.sh/uv/install.sh | sh
      UV_BIN="$HOME/.local/bin"
      echo 'export PATH="$UV_BIN:$PATH"' >> $HOME/.bashrc
      echo "$UV_BIN" >> $GITHUB_PATH

  - name: Source .bashrc
    shell: bash
    run: |
      source $HOME/.bashrc

  - name: Install python (version 3.9)
    shell: bash
    run: |
      uv python install 3.9
      uv python pin 3.9
